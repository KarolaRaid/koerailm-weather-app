{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Koerailm</title>
    <link rel="stylesheet" href="{% static 'css/styles.css' %}">
</head>

<body>
<div class="container">
    <header>
        <img id="ai-seasonal-dog" src="https://i.imghippo.com/files/0TmWx1728769205.png" alt="AI generated seasonal dog image">

        <div class="title-subtitle-container">
            <span id="main-title">KOERAILM</span>
            <div id="subtitle">
                koera|ilm<br>
                halb, ebameeldiv, harilikult sajune ilm<br>
                <div class="italic">
                    Sadas lörtsi: tõeline koerailm.<br>
                    Väljas oli kõva tuul ja sadas: säärase koerailmaga ei tahtnud keegi õue minna.
                </div>
            </div>
        </div>
    </header>

    <div class="content">
        <form method="GET" action={% url 'current_weather' %}>
            <input id="location-search" class="box" type="text" name="location_search" placeholder="Sisesta asukoht..."
                   required>
            <button type="submit" class="button box">Otsi</button>
        </form>

        {% if error %}
            <div id="error-message" class="box" style="color:red;">
                <strong>{{ error }}</strong>
            </div>
        {% else %}

            <div id="current-weather" class="box">
                <h3>Asukoht: {{ location }}, {{ country }}</h3>
                <img src="{{ icon }}" alt="current weather icon"><br>
                <h4>{{ condition_text }}</h4>
                Temperatuur: {{ temperature }}°C, tundub nagu: {{ temperature_feelslike }}°C<br>
                Niiskustase: {{ humidity }}%, sademed: {{ precipitation }} mm/h<br>
                Tuule kiirus {{ wind_kmh }} km/h ehk {{ wind_ms }} m/s, suund: {{ wind_direction }}<br>
                Pilvisus: {{ cloud }}%<br>
                {{ latitude }}, {{ longitude }}

            </div>

            <div>
                <button class="button box" onclick="user_location()">Sinu asukoht</button>
            </div>

            <div id="dog-weather-index" class="box">
                Koerailmaindeks:<br>{{ dog_rating }}/5 koera.
                {% if dog_rating == 0 %}
                    <img id="dog-paw" src="https://i.imghippo.com/files/RKTdZ1728769730.png" alt="dog rating zero">
                {% endif %}
            </div>

            <div id="folk-saying" class="box italic">
                folk saying here
            </div>

            <div id="hourly-forecast" class="box">
                Hourly Forecast (placeholder data)
                <div id="hourly-forecast-elements">
                    <h1>1. {{ hour }}</h1>
                    <h1>2. {{ humidity_hourly }}</h1>
                    <h1>1. {{ location_h }}</h1>
                    <h1>2. {{ latitude_h }}</h1>
                    <span>16:00 21°C Sunny</span><br>
                    <span>17:00 21°C Sunny</span><br>
                    <span>18:00 20°C Sunny</span><br>
                    <span>19:00 18°C Cloudy</span><br>
                    <span>20:00 17°C Cloudy</span>
                </div>
            </div>

            <div id="daily-forecast" class="box">
                Daily Forecast (placeholder data)
                <div id="daily-forecast-elements">
                    <span>Tuesday 21°C / 14°C Sunny 4% rain</span><br>
                    <span>Wednesday 18°C / 13°C Rainy 60% rain</span><br>
                    <span>Thursday 16°C / 13°C Rainy 75% rain</span><br>
                    <span>Friday 16°C / 11°C Rainy 72% rain</span><br>
                    <span>Saturday 13°C / 7°C Rainy 70% rain</span>
                </div>
            </div>
        {% endif %}
    </div>
</div>

<script src="{% static 'js/scripts.js' %}"></script>
</body>
</html>